<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--favicon-->
    <link rel="icon" th:href="@{/images/favicon-32x32.png}" type="image/png"/>
    <!--plugins-->
    <link th:href="@{/plugins/simplebar/css/simplebar.css}" rel="stylesheet"/>
    <link th:href="@{/plugins/perfect-scrollbar/css/perfect-scrollbar.css}" rel="stylesheet"/>
    <link th:href="@{/plugins/metismenu/css/metisMenu.min.css}" rel="stylesheet"/>
    <!-- loader-->
    <link th:href="@{/css/pace.min.css}" rel="stylesheet"/>
    <script th:src="@{/js/pace.min.js}"></script>
    <!-- Bootstrap CSS -->
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link th:href="@{/css/app.css}" rel="stylesheet">
    <link th:href="@{/css/icons.css}" rel="stylesheet">
    <!-- Theme Style CSS -->
    <link rel="stylesheet" th:href="@{/css/dark-theme.css}"/>
    <link rel="stylesheet" th:href="@{/css/semi-dark.css}"/>
    <link rel="stylesheet" th:href="@{/css/header-colors.css}"/>
    <title>我的收藏页</title>

    <style>
        h6 {
            font-family: 宋体, serif;
        }
        .mailTable{
            border-top: 1px solid #E6EAEE;
            border-left: 1px solid #E6EAEE;
        }
        .mailTable tr td{
            width: 120px;
            height: 35px;
            line-height: 35px;
            box-sizing: border-box;
            padding: 0 10px;
            border-bottom: 1px solid #E6EAEE;
            border-right: 1px solid #E6EAEE;
        }
        .mailTable tr td.column {
            background-color: #d4bde5;
            color: #050000;
            text-align: center;
        }
        .mailTable tr td.column1 {
            color: #050000;
        }
    </style>
</head>

<body>
<!--wrapper-->
<div class="wrapper">
    <!--sidebar wrapper -->
    <div th:insert="~{layout/copyright :: copy_sideBar}"></div>
    <!--end sidebar wrapper -->

    <!--start header -->
    <div th:insert="~{layout/copyright :: copy_header}"></div>
    <!--end header -->

    <!--start page wrapper -->
    <div class="page-wrapper">
        <div class="page-content">

            <!--breadcrumb-->
            <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
                <div class="breadcrumb-title pe-3">用户页面</div>
                <div class="ps-3">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb mb-0 p-0">
                            <li class="breadcrumb-item"><a th:href="@{/carList}"><i class="bx bx-grid-alt"></i></a>
                            </li>
                            <li class="breadcrumb-item active" aria-current="page">二手车信息对比</li>
                        </ol>
                    </nav>
                </div>
                <div class="ms-auto">
                    <div class="btn-group">
                        <!--消息回显，如果msg消息不为空显示提示信息-->
                        <p style="color: red" th:id="message" th:text="${msg}"></p>
                    </div>
                </div>
            </div>
            <!--end breadcrumb-->

            <!--查询结果展示区 Begin-->
            <div style="overflow: auto">
                <table th:class="mailTable" th:cellpadding="0">
                    <tr>
                        <td th:class="column">序号</td>
                        <td style="text-align: center; background-color: #0bb2d3" th:each="index : ${compareCarsIndex}" th:if="car != null" th:class="column1" th:text="${index}"></td>
                    </tr>
                    <tr>
                        <td th:class="column">描述</td>
                        <td th:each="car : ${compareCars}" th:if="car != null" th:class="column1">[[${car.getTitle()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">图片</td>
                        <td th:class="column1" th:each="car : ${compareCars}" th:if="car != null">
                            <img th:src="${car.getCarPhoto()}" style="width: 16rem; height: 12rem">
                        </td>
                    </tr>
                    <tr>
                        <td th:class="column">价格</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getCarPrice()}]]万元</td>
                    </tr>
                    <tr>
                        <td th:class="column">品牌</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getCarBrand()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">子品牌</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getCarType()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">表显里程</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getDisplayedMileage()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">上牌时间</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getLicensingTime()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">车辆变速箱</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getTransmission()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">排量</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getEmissions()}]]升</td>
                    </tr>
                    <tr>
                        <td th:class="column">排放标准</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getEmissionStandard()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">年检到期时间</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getAnnualTimeout()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">保险到期时间</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getInsuranceTimeout()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">车辆过户次数</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getTransfersTimes()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">车辆所在地</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getCarLoc()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">车辆级别</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getCarGrade()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">车辆发动机</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getCarEngine()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">车辆颜色</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getCarColor()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">燃油标号</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getFuelType()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">驱动方式</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getPowerType()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">二手车网站</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getCarWebsite()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">信息发布时间</td>
                        <td th:each="car : ${compareCars}" th:class="column1" th:if="car != null">[[${car.getReleaseTime()}]]</td>
                    </tr>
                    <tr>
                        <td th:class="column">操作</td>
                        <td th:class="column1" th:if="car != null" th:each="car : ${compareCars}">
                            <div th:class="display_flex">
                                <a class="btn btn-danger" th:href="@{'/removeCompare?cid=' + ${car.getCid()}}" onclick="return confirm('确定移除吗？')">移除</a>
                                <a class="btn btn-success" th:href="@{'/compare/store?cid=' + ${car.getCid()}}">收藏</a>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <!--查询结果展示区 End-->

            <hr/>

            <!--雷达图 Begin-->
            <div class="card">
                <div class="card-body row">
                    <div class="col-lg-6" th:id="score" style="width: 600px; height: 600px" >
                    <!--    图表显示-->
                    </div>
                    <div class="col-lg-6">
                        <h4 style="font-family: 'Microsoft YaHei UI';">车辆相对评分</h4>
                        <table th:class="mailTable" th:cellpadding="0">
                            <tr>
                                <td th:class="column">序号</td>
                                <td style="text-align: center; background-color: #0bb2d3" th:each="index : ${compareCarsIndex}" th:if="car != null" th:class="column1" th:text="'车辆'+${index}"></td>
                            </tr>
                            <tr>
                                <td th:class="column">价格<br>20%</td>
                                <td th:each="score : ${scores}" th:class="column1" th:if="score != null">[[${score.getPriceScore()}]]</td>
                            </tr>
                            <tr>
                                <td th:class="column">表显里程<br>20%</td>
                                <td th:each="score : ${scores}" th:class="column1" th:if="score != null">[[${score.getMileScore()}]]</td>
                            </tr>
                            <tr>
                                <td th:class="column">排量<br>20%</td>
                                <td th:each="score : ${scores}" th:class="column1" th:if="score != null">[[${score.getEmissionScore()}]]</td>
                            </tr>
                            <tr>
                                <td th:class="column">过户次数<br>20%</td>
                                <td th:each="score : ${scores}" th:class="column1" th:if="score != null">[[${score.getTransScore()}]]</td>
                            </tr>
                            <tr>
                                <td th:class="column">发动机功率<br>10%</td>
                                <td th:each="score : ${scores}" th:class="column1" th:if="score != null">[[${score.getPowerScore()}]]</td>
                            </tr>
                            <tr>
                                <td th:class="column">发动机缸数<br>10%</td>
                                <td th:each="score : ${scores}" th:class="column1" th:if="score != null">[[${score.getNumScore()}]]</td>
                            </tr>
                            <tr>
                                <td th:class="column">总分<br>100%</td>
                                <td th:each="score : ${scores}" th:class="column1" th:if="score != null">[[${score.getTotalScore()}]]</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <!--雷达图 End-->


        </div>
    </div>
    <!--end page wrapper -->

    <!--start overlay-->
    <div th:insert="~{layout/copyright :: copy_overlay}"></div>
    <!--end overlay-->

    <!--Start Back To Top Button-->
    <div th:insert="~{layout/copyright :: copy_back}"></div>
    <!--End Back To Top Button-->

    <!--start footer -->
    <div th:insert="~{layout/copyright :: copy_footer}"></div>
    <!--end footer -->
</div>
<!--end wrapper-->

<!--start switcher-->
<div th:insert="~{layout/copyright :: copy_switcher}"></div>
<!--end switcher-->

<!-- Bootstrap JS -->
<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
<!--plugins-->
<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/plugins/simplebar/js/simplebar.min.js}"></script>
<script th:src="@{/plugins/metismenu/js/metisMenu.min.js}"></script>
<script th:src="@{/plugins/perfect-scrollbar/js/perfect-scrollbar.js}"></script>
<script th:src="@{/js/echarts.min.js}"></script>
<!--app JS-->
<script th:src="@{/js/app.js}"></script>
<!--绘制图表-->
<script th:inline="javascript">
    // 初始化绘制图表的echarts实例
    var myChart = echarts.init(document.querySelector('#score'))
    var legendData = [[${radarIndex}]]
    var seriesData = [[${radarData}]]
    var maxPrice = [[${maxPrice}]] + 5
    var maxMile = [[${maxMile}]] + 2
    var maxEmission = [[${maxEmission}]] + 0.2
    var maxTrans = [[${maxTran}]]
    var maxPower = [[${maxPower}]] + 10
    var maxNum = [[${maxNum}]] + 2
    var option = {
        title: {
            text: '车辆对比雷达图'
        },
        legend: {
            data: legendData
        },
        radar: {
            // shape: 'circle',
            indicator: [
                { name: '价格', max: maxPrice},
                { name: '表显里程', max: maxMile},
                { name: '排量', max: maxEmission},
                { name: '过户次数', max: maxTrans},
                { name: '发动机功率', max: maxPower},
                { name: '发动机缸数', max: maxNum}
            ]
        },
        series: [
            {
                name: '车辆',
                type: 'radar',
                data: seriesData
            }
        ]
    };
    //对实例对象设置配置
    myChart.setOption(option)
</script>
</body>

</html>